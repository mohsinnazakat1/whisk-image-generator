{% extends "image_generator/base.html" %}

{% block content %}
<div class="container">
    <h1>Whisk Image Generator</h1>

    {% if error %}
        <div class="error">{{ error }}</div>
    {% endif %}

    <form class="prompt-form" action="{% url 'generate_image' %}" method="post">
        {% csrf_token %}
        <textarea name="prompt" placeholder="Enter a creative prompt..." required>{{ prompt|default:'' }}</textarea>
        <button type="submit">Generate Images</button>
    </form>

    {% if images %}
        <div class="image-gallery">
            <h2>Generated Images</h2>
            <div class="image-grid">
                {% for image_src in images %}
                    <div class="image-card">
                        <img src="{{ image_src }}" alt="Generated Image">
                        <div class="image-actions">
                            <a href="#" class="preview-btn" data-src="{{ image_src }}">Preview</a>
                            <a href="{{ image_src }}" download="generated_image.png">Download</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
